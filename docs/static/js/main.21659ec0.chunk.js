(this["webpackJsonptravel-photos"]=this["webpackJsonptravel-photos"]||[]).push([[0],{41:function(t){t.exports=JSON.parse('{"collections":[{"id":"e602c162-33da-492a-9a95-f19ed7ce5735","name":"Perth 2019","photos":[{"id":"3f010189-2855-4dde-921e-47a7df1761cc","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845001/travel_photos/image1.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845001/travel_photos/image1.jpg","orientation":"landscape","created":"2019-11-19T21:58:52.000Z","latitude":-31.997447972222222,"location":{"place_id":95716044,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":24349503,"lat":"-31.9985805","lon":"115.5429329","display_name":"Forrest Avenue, Rottnest Island, Kingstown, City Of Cockburn, Western Australia, 6161, Australia","address":{"road":"Forrest Avenue","suburb":"Rottnest Island","village":"Kingstown","municipality":"City Of Cockburn","state":"Western Australia","postcode":"6161","country":"Australia","country_code":"au"},"boundingbox":["-31.9991279","-31.9985805","115.5429329","115.5432424"]},"longitude":115.543868,"origHeight":2112,"origWidth":4608,"name":"Rottnest Island, Australia"},{"id":"46c78a04-a1ee-4d62-b0c2-48d7be84c904","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845010/travel_photos/image2.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845010/travel_photos/image2.jpg","orientation":"landscape","created":"2019-11-20T00:23:08.000Z","latitude":-32.01857197222222,"location":{"place_id":95554124,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":24349619,"lat":"-32.018544426936124","lon":"115.49357055826945","display_name":"Karlak Boodjar Road, Rottnest Island, City Of Cockburn, Western Australia, 6161, Australia","address":{"road":"Karlak Boodjar Road","suburb":"Rottnest Island","municipality":"City Of Cockburn","state":"Western Australia","postcode":"6161","country":"Australia","country_code":"au"},"boundingbox":["-32.0185888","-32.0156992","115.4935076","115.4977125"]},"longitude":115.49358997222222,"origHeight":2112,"origWidth":4608,"name":"Rottnest Island, Australia"},{"id":"8d88c735-9bc6-432a-8994-24e5ae3c05e4","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845006/travel_photos/image3.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845006/travel_photos/image3.jpg","orientation":"landscape","created":"2019-11-20T00:57:37.000Z","latitude":-32.002192972222225,"location":{"place_id":134716724,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":188861330,"lat":"-32.00219543770808","lon":"115.52391880748945","display_name":"Digby Drive, Rottnest Island, Geordie Bay, City Of Cockburn, Western Australia, 6161, Australia","address":{"road":"Digby Drive","suburb":"Rottnest Island","village":"Geordie Bay","municipality":"City Of Cockburn","state":"Western Australia","postcode":"6161","country":"Australia","country_code":"au"},"boundingbox":["-32.0041092","-31.9976141","115.515098","115.5344706"]},"longitude":115.52391899999999,"origHeight":2112,"origWidth":4608,"name":"Rottnest Island, Australia"},{"id":"7a8faf60-79d8-4504-a7dd-5c89d6a6a973","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845005/travel_photos/image4.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845005/travel_photos/image4.jpg","orientation":"landscape","created":"2019-11-20T05:51:26.000Z","latitude":-31.954440972222223,"location":{"place_id":124779006,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":147048587,"lat":"-31.955215250000002","lon":"115.85894025629688","display_name":"Calibre House, London Court, Perth, City of Perth, Western Australia, 6000, Australia","address":{"building":"Calibre House","road":"London Court","suburb":"Perth","city":"Perth","county":"City of Perth","state":"Western Australia","postcode":"6000","country":"Australia","country_code":"au"},"boundingbox":["-31.9553846","-31.9550454","115.8587472","115.8591333"]},"longitude":115.85913897222221,"origHeight":2112,"origWidth":4608,"name":"Perth, Australia"}]},{"id":"2","name":"New Zealand 2021","photos":[{"id":"21","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845011/travel_photos/image5.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845011/travel_photos/image5.jpg","orientation":"portrait","created":"2021-04-24T04:30:28.000Z","latitude":-40.354384,"location":{"place_id":62160058,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"node","osm_id":5546976180,"lat":"-40.3544363","lon":"175.6143679","display_name":"515A, Main Street, West End, Palmerston North, Manawatu-Whanganui, 4440, New Zealand","address":{"house_number":"515A","road":"Main Street","suburb":"West End","city":"Palmerston North","region":"Manawatu-Whanganui","postcode":"4440","country":"New Zealand","country_code":"nz"},"boundingbox":["-40.3544863","-40.3543863","175.6143179","175.6144179"]},"longitude":175.614373,"origHeight":4608,"origWidth":2112,"name":"West End, Palmerston North, New Zealand"},{"id":"22","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845014/travel_photos/image6.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845014/travel_photos/image6.jpg","orientation":"portrait","created":"2021-04-24T04:30:43.000Z","latitude":-40.354384,"location":{"place_id":62160058,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"node","osm_id":5546976180,"lat":"-40.3544363","lon":"175.6143679","display_name":"515A, Main Street, West End, Palmerston North, Manawatu-Whanganui, 4440, New Zealand","address":{"house_number":"515A","road":"Main Street","suburb":"West End","city":"Palmerston North","region":"Manawatu-Whanganui","postcode":"4440","country":"New Zealand","country_code":"nz"},"boundingbox":["-40.3544863","-40.3543863","175.6143179","175.6144179"]},"longitude":175.614373,"origHeight":4608,"origWidth":2112,"name":"West End, Palmerston North, New Zealand"},{"id":"23","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845003/travel_photos/image7.jpg","thumbUurl":"https://res.cloudinary.com/carnold/image/upload//c_fit,h_330,w_330/v1626845003/travel_photos/image7.jpg","orientation":"portrait","created":"2021-04-24T04:31:37.000Z","latitude":-40.354429,"location":{"place_id":138254703,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":201306718,"lat":"-40.354489150000006","lon":"175.61336109722833","display_name":"Downtown Plaza, Main Street, West End, Palmerston North, Manawatu-Whanganui, 4440, New Zealand","address":{"shop":"Downtown Plaza","road":"Main Street","suburb":"West End","city":"Palmerston North","region":"Manawatu-Whanganui","postcode":"4440","country":"New Zealand","country_code":"nz"},"boundingbox":["-40.3550862","-40.3538809","175.6125692","175.6141563"]},"longitude":175.6138239722222,"origHeight":2112,"origWidth":4608,"name":"West End, Palmerston North, New Zealand"},{"id":"24","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845012/travel_photos/image8.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845012/travel_photos/image8.jpg","orientation":"landscape","created":"2021-04-24T04:32:12.000Z","latitude":-40.354429,"location":{"place_id":138254703,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":201306718,"lat":"-40.354489150000006","lon":"175.61336109722833","display_name":"Downtown Plaza, Main Street, West End, Palmerston North, Manawatu-Whanganui, 4440, New Zealand","address":{"shop":"Downtown Plaza","road":"Main Street","suburb":"West End","city":"Palmerston North","region":"Manawatu-Whanganui","postcode":"4440","country":"New Zealand","country_code":"nz"},"boundingbox":["-40.3550862","-40.3538809","175.6125692","175.6141563"]},"longitude":175.6138239722222,"origHeight":2112,"origWidth":4608,"name":"West End, Palmerston North, New Zealand"},{"id":"25","url":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_1080,w_1920/v1626845008/travel_photos/image9.jpg","thumbUrl":"https://res.cloudinary.com/carnold/image/upload/c_fit,h_330,w_330/v1626845008/travel_photos/image9.jpg","orientation":"portrait","created":"2021-04-24T04:33:14.000Z","latitude":-40.354075972222226,"location":{"place_id":138254703,"licence":"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright","osm_type":"way","osm_id":201306718,"lat":"-40.354489150000006","lon":"175.61336109722833","display_name":"Downtown Plaza, Main Street, West End, Palmerston North, Manawatu-Whanganui, 4440, New Zealand","address":{"shop":"Downtown Plaza","road":"Main Street","suburb":"West End","city":"Palmerston North","region":"Manawatu-Whanganui","postcode":"4440","country":"New Zealand","country_code":"nz"},"boundingbox":["-40.3550862","-40.3538809","175.6125692","175.6141563"]},"longitude":175.61358099999998,"origHeight":2112,"origWidth":4608,"name":"West End, Palmerston North, New Zealand"}]}]}')},50:function(t,e,n){},51:function(t,e,n){},54:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(34),r=n.n(c),i=(n(50),n(22)),s=n(10),l=n(86),u=(n(51),n(5)),d=n(2),h=n.n(d),p=n(4),b=n(7),j=n(25),m=n(9),O=n(3),f="createCollection",g="setInitialData",v="setMapPosition",x="setRoutesData",y="updateCollection",w={collections:{allIds:[],byId:[]},routesData:{current:null,previous:null},isLoading:!0,mapPosition:{bounds:null,center:null,zoom:null},photos:{allIds:[],byId:[]}},_=function(t,e){switch(e.type){case f:return function(t,e){var n={},a=e.photos.map((function(t){return n[t.id]=t,t.id}));return Object(u.a)(Object(u.a)({},t),{},{collections:{allIds:[].concat(Object(m.a)(t.collections.allIds),[e.id]),byId:Object(u.a)(Object(u.a)({},t.collections.byId),{},Object(j.a)({},e.id,Object(u.a)(Object(u.a)({},e),{},{photos:a})))},photos:{allIds:[].concat(Object(m.a)(t.photos.allIds),Object(m.a)(a)),byId:Object(u.a)(Object(u.a)({},t.photos.byId),n)}})}(t,e.payload);case x:return function(t,e){return Object(u.a)(Object(u.a)({},t),{},{routesData:Object(u.a)(Object(u.a)({},t.routesData),e)})}(t,e.payload);case g:return function(t,e){var n=e.collections,a=[],o=[],c={},r={};return n.forEach((function(t){a.push(t.id),c[t.id]=Object(u.a)(Object(u.a)({},t),{},{photos:t.photos.map((function(t){return t.id}))}),t.photos.forEach((function(t){o.push(t.id),r[t.id]=t}))})),Object(u.a)(Object(u.a)({},t),{},{collections:{allIds:a,byId:c},isLoading:!1,photos:{allIds:o,byId:r}})}(t,e.payload);case v:return function(t,e){return Object(u.a)(Object(u.a)({},t),{},{mapPosition:e})}(t,e.payload);case y:return function(t,e){var n={},a=e.photos.map((function(t){return n[t.id]=t,t.id}));return Object(u.a)(Object(u.a)({},t),{},{collections:Object(u.a)(Object(u.a)({},t.collections),{},{byId:Object(u.a)(Object(u.a)({},t.collections.byId),{},Object(j.a)({},e.id,e))}),photos:{allIds:new Set([].concat(Object(m.a)(t.photos.allIds),Object(m.a)(a))),byId:Object(u.a)(Object(u.a)({},t.photos.byId),n)}})}(t,e.payload);default:throw new Error}},C=Object(a.createContext)(w),N=function(t){var e=t.children,n=Object(a.useReducer)(_,w),o=Object(b.a)(n,2),c=o[0],r=o[1];return Object(O.jsx)(C.Provider,{value:{dispatch:r,state:c},children:e})},k=n(6),I=n(44),P=n(85),W=n(41),M="travel_photos",S=function(){var t=Object(p.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem(M);case 2:return e=t.sent,e=JSON.parse(e),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(p.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.setItem(M,JSON.stringify(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(p.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:if(null!==(e=t.sent)){t.next=7;break}return e=W,t.next=7,D(e);case 7:return t.abrupt("return",{data:e,success:!0});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Z=function(){var t=Object(p.a)(h.a.mark((function t(e){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(u.a)(Object(u.a)({},e),{},{id:Object(P.a)()}),t.next=3,S();case 3:return a=t.sent,D(Object(u.a)(Object(u.a)({},a),{},{collections:[].concat(Object(m.a)(a.collections),[n])})),t.abrupt("return",{data:n,success:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(p.a)(h.a.mark((function t(e){var n,a,o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.collection,a=e.photos,o=Object(u.a)(Object(u.a)({},n),{},{photos:[].concat(Object(m.a)(n.photos),Object(m.a)(a))}),t.next=4,S();case 4:return c=t.sent,D(Object(u.a)(Object(u.a)({},c),{},{collections:c.collections.map((function(t){return t.id===o.id?o:t}))})),t.abrupt("return",{data:o,success:!0});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(p.a)(h.a.mark((function t(e){var n,a,o,c,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=Object(k.a)(e),t.prev=2,a.s();case 4:if((o=a.n()).done){t.next=12;break}return c=o.value,t.next=8,R(c);case 8:r=t.sent,n.push(r.data);case 10:t.next=4;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),a.e(t.t0);case 17:return t.prev=17,a.f(),t.finish(17);case 20:return t.abrupt("return",{data:n,success:!0});case 21:case"end":return t.stop()}}),t,null,[[2,14,17,20]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(p.a)(h.a.mark((function t(e){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.latitude,a=e.longitude,t.abrupt("return",new Promise(function(){var t=Object(p.a)(h.a.mark((function t(e,o){var c,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(n,"&lon=").concat(a,"&format=json"));case 2:return c=t.sent,t.next=5,c.json();case 5:r=t.sent,e(r);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(p.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var a={id:Object(P.a)(),url:e},o=new Image;o.onload=Object(p.a)(h.a.mark((function n(){var o,c,r,i,s,l,d,p,b,j,m,O,f,g,v;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,I.a.parse(e);case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0={};case 5:if(o=n.t0,c=o.CreateDate,r=o.ImageHeight,i=o.ImageWidth,s=o.latitude,l=o.longitude,!s||!l){n.next=19;break}return n.next=14,U({latitude:s,longitude:l});case 14:d=n.sent,p=[],b="",d&&(j=d.address,m=j.city,O=j.country,f=j.suburb,g=j.town,m?v=m:g&&(v=g),f&&v!==f&&p.push(f),v&&p.push(v),O&&p.push(O),b=p.join(", ")),a=Object(u.a)(Object(u.a)({},a),{},{created:c,latitude:s,location:d,longitude:l,origHeight:r,origWidth:i,name:b});case 19:t({data:a,success:!0});case 20:case"end":return n.stop()}}),n)}))),o.src=e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){return Object(a.useContext)(C)},H=function(t,e){var n=t.collections.byId[e];if(n)return Object(u.a)(Object(u.a)({},n),{},{photos:n.photos.map((function(e){return t.photos.byId[e]}))})},z=function(){var t=B().state;return t.collections.allIds.map((function(e){return H(t,e)}))},T=n(12),F=(n(54),["children","to"]),J=function(t){var e=t.children,n=t.to,a=Object(T.a)(t,F);return Object(O.jsx)(i.b,Object(u.a)(Object(u.a)({to:n},a),{},{children:e}))},K=(n(63),["as","className","children","onClick"]),V=function(t){var e=t.as,n=void 0===e?"button":e,a=t.className,o=t.children,c=t.onClick,r=Object(T.a)(t,K),i=n;return Object(O.jsx)(i,Object(u.a)(Object(u.a)({className:["button",a].join(" "),onClick:c},r),{},{children:o}))},G=(n(64),["backTo","children","from","id","leftControls","noContentPadding","rightControls","title"]),Y=function(t){var e=t.backTo,n=t.children,a=t.from,o=(t.id,t.leftControls),c=t.noContentPadding,r=void 0!==c&&c,i=t.rightControls,s=t.title,l=Object(T.a)(t,G);return Object(O.jsxs)("div",Object(u.a)(Object(u.a)({className:"layout"},l),{},{children:[Object(O.jsxs)("header",{className:"layout-header",children:[Object(O.jsxs)("div",Object(u.a)(Object(u.a)({className:"layout-left-controls"},l),{},{children:[e&&Object(O.jsx)(J,{from:a,to:e,children:Object(O.jsx)(V,{as:"span",className:"layout-back-btn",children:Object(O.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M0.288025 7.00001L6.29802 13.01L7.71202 11.596L3.11202 6.99601L7.71202 2.39601L6.29802 0.990005L0.288025 7.00001Z"})})})}),s&&Object(O.jsx)("h3",{className:"layout-title",children:s}),o]})),Object(O.jsx)("div",{className:"layout-right-controls",children:i})]}),Object(O.jsx)("main",{className:["layout-content",r?"no-padding":null].join(" "),children:n})]}))},q=(n(65),function(){return Object(O.jsx)("div",{className:"spinner",children:Object(O.jsx)("div",{className:"loader",children:Object(O.jsx)("svg",{className:"circle",viewBox:"25 25 50 50",children:Object(O.jsx)("circle",{className:"path",cx:"50",cy:"50",r:"15",fill:"none",strokeMiterlimit:"10",strokeWidth:"3"})})})})}),Q=(n(66),function(t){var e=t.alt,n=void 0===e?"":e,o=t.height,c=void 0===o?"100%":o,r=t.url,i=t.width,s=void 0===i?"100%":i,l=Object(a.useState)(!0),u=Object(b.a)(l,2),d=u[0],h=u[1],p=Object(a.useState)(0),j=Object(b.a)(p,2),m=j[0],f=j[1],g=Object(a.useRef)(),v=Object(a.useRef)();return Object(a.useEffect)((function(){v.current.src=r}),[r]),Object(O.jsxs)("div",{className:"picture",ref:g,style:{height:c,width:s},children:[d&&Object(O.jsx)("div",{className:"loading_screen",children:Object(O.jsx)(q,{})}),Object(O.jsx)("div",{className:"picture_container",style:{height:c,opacity:m,width:s},children:Object(O.jsx)("img",{className:"image",alt:n,onLoad:function(){f(1),h(!1)},ref:v,style:{height:c,width:s}})})]})}),X=(n(67),["imageUrl","meta","onClick","title","to"]),$=function(t){var e=t.imageUrl,n=t.meta,a=(t.onClick,t.title),o=t.to,c=Object(T.a)(t,X);return Object(O.jsxs)(J,Object(u.a)(Object(u.a)({className:"photo-card",from:"/",to:o},c),{},{children:[Object(O.jsx)("div",{className:"photo-card-image-container ",children:Object(O.jsx)("div",{className:"photo-card-image",children:Object(O.jsx)(Q,{alt:a,url:e,style:{objectFit:"cover"}})})}),Object(O.jsxs)("div",{className:"photo-card-text",children:[Object(O.jsx)("h2",{className:"photo-card-title",children:a}),Object(O.jsxs)("p",{className:"photo-card-meta",children:[Object(O.jsx)("svg",{className:"photo-card-meta-icon",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M16 18H2C0.89543 18 0 17.1046 0 16V2C0 0.89543 0.89543 0 2 0H16C17.1046 0 18 0.89543 18 2V16C18 17.1046 17.1046 18 16 18ZM2 2V16H16V2H2ZM15 14H3L6 10L7 11L10 7L15 14ZM5.5 8C4.67157 8 4 7.32843 4 6.5C4 5.67157 4.67157 5 5.5 5C6.32843 5 7 5.67157 7 6.5C7 7.32843 6.32843 8 5.5 8Z"})}),n]})]})]}))},tt=n(84),et=(n(68),["children","id","isOver","level"]),nt=function(t){var e=t.children,n=(t.id,t.isOver),a=void 0===n||n,o=t.level,c=Object(T.a)(t,et);return Object(O.jsx)(tt.a.div,Object(u.a)(Object(u.a)({animate:"show",className:"view",exit:"hidden",initial:"hidden",style:{zIndex:o},variants:!0===a?{hidden:{y:"100%",transition:{ease:"easeIn",duration:.3}},show:{y:0,transition:{ease:"easeOut",duration:.3}}}:{hidden:{scale:.9,transition:{ease:"easeOut",duration:.3}},show:{scale:1,transition:{ease:"easeOut",duration:.3}}}},c),{},{children:e}))},at=(n(69),function(){var t=z();Object(s.f)();return Object(O.jsx)(nt,{id:"list",level:0,children:Object(O.jsxs)(Y,{id:"list",leftControls:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("svg",{className:"list-logo",viewBox:"0 0 32 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("path",{d:"M7.88336 32.2825C10.2234 35.0612 12.7884 37.6424 15.5523 40C18.3586 37.6063 20.9597 34.9822 23.3285 32.1549C26.8833 27.9092 31.1048 21.586 31.1048 15.5606C31.116 12.028 29.9172 8.61721 27.7374 5.88181L24.931 9.61367C26.0243 11.3329 26.6586 13.3727 26.6612 15.5606C26.6612 18.149 25.4903 22.6347 19.9203 29.3111C18.5456 30.9482 17.0877 32.5137 15.5524 34.0012C14.0171 32.5119 12.5599 30.9442 11.1866 29.3044C10.9963 29.0767 10.8111 28.8516 10.631 28.6289L7.88336 32.2825ZM7.78018 24.7052L4.95393 28.4634C2.31149 24.641 1.96329e-06 20.0193 1.96329e-06 15.5606C-0.00314886 9.26755 3.78644 3.59282 9.6004 1.18444C14.508 -0.848468 20.0414 -0.215845 24.3225 2.7083L21.6412 6.27371C19.8927 5.1242 17.8007 4.45447 15.5524 4.45178C9.42016 4.45912 4.45088 9.42841 4.44353 15.5606C4.44353 17.503 5.10181 20.511 7.78018 24.7052Z",fill:"url(#paint0_linear)"}),Object(O.jsx)("defs",{children:Object(O.jsxs)("linearGradient",{id:"paint0_linear",x1:"26.0816",y1:"4.41393e-07",x2:"6.37548",y2:"34.1959",gradientUnits:"userSpaceOnUse",children:[Object(O.jsx)("stop",{stopColor:"#951CCE"}),Object(O.jsx)("stop",{offset:"1",stopColor:"#C92DB9"})]})})]}),Object(O.jsx)("h1",{className:"list-title",children:"Travel Photos"})]}),children:[0===t.length&&Object(O.jsx)("p",{children:"No collections"}),t.length>0&&Object(O.jsx)("div",{className:"list-grid",children:t.map((function(t){var e,n=t.id,a=t.name,o=t.photos,c=o.length;return Object(O.jsx)($,{meta:"".concat(c,1===c?" photo":" photos"),imageUrl:null===(e=o[0])||void 0===e?void 0:e.thumbUrl,title:a,to:"/collection/".concat(n)},n)}))})]})})}),ot=n(80),ct=n(87),rt=n(81),it=n(82),st=n(83),lt=(n(70),Object(a.forwardRef)((function(t,e){var n,o,c,r=t.markers,i=void 0===r?[]:r,s=t.position,l=Object(a.useRef)(null);return Object(O.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(O.jsxs)(ot.a,{bounds:null!==(n=s.zoom)&&void 0!==n?n:0,center:null!==(o=s.center)&&void 0!==o?o:[0,0],scrollWheelZoom:!0,style:{height:"100%",width:"100%"},whenCreated:function(t){var n=t;n.fitBounds(l.current.getBounds(),{padding:[40,40]}),e.current=n},zoom:null!==(c=s.zoom)&&void 0!==c?c:0,children:[Object(O.jsx)(ct.a,{attribution:"Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.",noWrap:!0,url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"}),Object(O.jsx)(rt.a,{ref:l,children:i.map((function(t){return t.latitude&&t.longitude?Object(O.jsx)(it.a,{eventHandlers:{click:t.onClick},position:[t.latitude,t.longitude],children:Object(O.jsxs)(st.a,{children:[Object(O.jsx)("div",{style:{height:"portrait"===t.orientation?"200px":null,width:"landscape"===t.orientation?"200px":null},children:Object(O.jsx)(Q,{alt:t.name,height:"portrait"===t.orientation?"200px":null,url:t.thumbUrl,width:"landscape"===t.orientation?"200px":null})}),Object(O.jsx)("div",{style:{margin:"5px 0 0",textAlign:"center"},children:"Click marker to view"})]})},t.id):null}))})]})})}))),ut=(n(71),function(){var t=Object(s.f)(),e=Object(s.h)(),n=Object(s.g)(),o=function(t){var e=B().state;return H(e,t)}(null===e||void 0===e?void 0:e.collectionId),c=Object(a.useMemo)((function(){return o}),[]),r=Object(a.useRef)(),i=function(){var t=B(),e=t.dispatch,n=t.state;return[Object(a.useMemo)((function(){return n.mapPosition}),[n.mapPosition]),function(t){e({payload:t,type:v})}]}(),l=Object(b.a)(i,2),u=l[0],d=l[1];console.log(c);var h,p=Object(a.useMemo)((function(){return null===c||void 0===c?void 0:c.photos.map((function(e){var n=e.id,a=e.latitude,o=e.longitude,r=e.name,i=e.orientation,s=e.thumbUrl;return{id:n,latitude:a,longitude:o,name:r,orientation:i,onClick:function(){var e="/collection/".concat(c.id,"/photo/").concat(n);t.push(e)},thumbUrl:s}}))}),[c,t]);return console.log(p),Object(a.useEffect)((function(){return function(){var t=r.current;t&&d({bounds:t.getBounds(),center:t.getCenter(),zoom:t.getZoom()})}}),[]),h=c?Object(O.jsx)(lt,{markers:p,position:u,ref:r}):Object(O.jsx)("div",{children:"Collection doesn't exist."}),Object(O.jsx)(nt,{id:"collection",level:1,children:Object(O.jsx)(Y,{backTo:"/",from:null===n||void 0===n?void 0:n.path,id:"collection",noContentPadding:!0,title:null===c||void 0===c?void 0:c.name,children:h})})}),dt=(n(72),function(){var t,e=Object(s.h)(),n=Object(s.g)(),o=(t=null===e||void 0===e?void 0:e.id,B().state.photos.byId[t]),c=Object(a.useMemo)((function(){return o}),[]),r="Photo not found";return c&&(r=Object(O.jsx)(Q,{alt:"",url:null===c||void 0===c?void 0:c.url})),Object(O.jsx)(nt,{id:"photo",level:2,children:Object(O.jsx)(Y,{backTo:"/collection/".concat(null===e||void 0===e?void 0:e.collectionId),from:n.pathname,id:"photo",title:null===c||void 0===c?void 0:c.name,children:Object(O.jsx)("div",{className:"photo-content",children:r})})})}),ht=(n(73),function(t){var e=t.onCancel,n=t.onNext,o=t.onUpdate,c=t.photos,r=function(){var t=Object(p.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=Object(a.useRef)(),s=function(){var t=Object(p.a)(h.a.mark((function t(e){var n,a,c,i,s,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.target.files)){t.next=10;break}a=[],c=Object(k.a)(n);try{for(c.s();!(i=c.n()).done;)s=i.value,a.push(URL.createObjectURL(s))}catch(u){c.e(u)}finally{c.f()}return t.next=7,r(a);case 7:l=t.sent,console.log(JSON.stringify(l)),o(l.data);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log(c),Object(O.jsxs)("div",{className:"select_photos",children:[Object(O.jsx)("h2",{children:"Choose Photos"}),Object(O.jsxs)("div",{className:"image_input",children:[Object(O.jsx)(V,{onClick:function(){i.current.click()},style:{width:"100%"},children:"Select Images"}),Object(O.jsx)("input",{multiple:!0,onChange:s,ref:i,type:"file"})]}),Object(O.jsxs)("div",{children:[!c&&"Loading...",c&&c.map((function(t){var e=t.id,n=t.location,a=t.name,o=t.url;return n?Object(O.jsx)("img",{alt:a,src:o,style:{width:"140px"}},e):"No location data"}))]}),Object(O.jsxs)("div",{className:"footer",children:[Object(O.jsx)(V,{onClick:e,children:"Cancel"}),Object(O.jsx)(V,{onClick:n,children:"Next"})]})]})}),pt=(n(74),"choose"),bt="new",jt=function(t){var e,n=t.onBack,o=t.onCancel,c=t.onSave,r=Object(a.useState)(bt),i=Object(b.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(""),d=Object(b.a)(u,2),h=d[0],p=d[1],j=z(),m=Object(a.useState)(null===(e=j[0])||void 0===e?void 0:e.id),f=Object(b.a)(m,2),g=f[0],v=f[1],x=function(t){console.log(t.target.value),l(t.target.value)},y=function(t){console.log(t.target.value),v(t.target.value)};return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Choose Collection"}),j.length>0&&Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"new-collection",children:"New Collection:"}),Object(O.jsx)("input",{checked:s===bt,id:"new-collection",name:"collection",onChange:x,type:"radio",value:bt}),Object(O.jsx)("label",{htmlFor:"choose-collection",children:"Choose Collection:"}),Object(O.jsx)("input",{checked:s===pt,id:"choose-collection",name:"collection",onChange:x,type:"radio",value:pt})]}),s===bt&&Object(O.jsxs)("div",{children:[Object(O.jsx)("label",{htmlFor:"collection-name",children:"Collection Name"}),Object(O.jsx)("input",{onChange:function(t){p(t.target.value)},type:"text"})]}),s===pt&&Object(O.jsx)("div",{children:j.map((function(t){return Object(O.jsxs)("label",{htmlFor:t.id,children:[Object(O.jsx)("input",{checked:g===t.id,id:t.id,name:"collections",onChange:y,type:"radio",value:t.id}),t.name]},t.id)}))}),Object(O.jsx)("button",{onClick:o,children:"Cancel"}),Object(O.jsx)("button",{onClick:n,children:"Back"}),Object(O.jsx)("button",{onClick:function(){c(s===bt?null:g,h)},children:"Save Photos"})]})},mt=(n(75),"photos"),Ot="collection",ft=function(){var t=Object(a.useState)(mt),e=Object(b.a)(t,2),n=e[0],o=e[1],c=Object(a.useState)([]),r=Object(b.a)(c,2),i=r[0],l=r[1],d=Object(s.f)(),j=function(){var t=B().dispatch;return function(){var e=Object(p.a)(h.a.mark((function e(n){var a,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.collection,o=n.photos,e.next=3,Z(Object(u.a)(Object(u.a)({},a),{},{photos:o}));case 3:c=e.sent,t({payload:c.data,type:f});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(),g=function(){var t=B(),e=t.dispatch,n=t.state;return function(){var t=Object(p.a)(h.a.mark((function t(a,o){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(Object(u.a)(Object(u.a)(Object(u.a)({},n.collections.byId[a.id]),a),{},{photos:o}));case 2:c=t.sent,e({payload:c.data,type:y});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(),v=function(){d.push("/")},x=function(){var t=Object(p.a)(h.a.mark((function t(e,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e,n),e?g({photos:i,collection:{id:e,name:n}}):j({photos:i,collection:{name:n}}),v();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(O.jsx)(nt,{level:2,children:Object(O.jsxs)(Y,{id:"upload",noContentPadding:!0,onBack:function(){return d.psuh("/")},title:"Add Photos",children:[n===mt&&Object(O.jsx)(ht,{onCancel:v,onNext:function(){o(Ot)},onUpdate:function(t){console.log(t),l([].concat(Object(m.a)(i),Object(m.a)(t)))},photos:i}),n===Ot&&Object(O.jsx)(jt,{onBack:function(){o(mt)},onCancel:v,onSave:x})]})})},gt=function(){var t=B().state,e=Object(s.g)(),n=function(){var t=B().dispatch;return function(){var e=Object(p.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:n=e.sent,t({payload:n.data,type:g});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}();return Object(a.useEffect)((function(){t.isLoading&&n()}),[n,t.isLoading]),t.isLoading?"Loading...":Object(O.jsx)(l.a,{initial:!1,children:Object(O.jsxs)(s.c,{location:e,children:[Object(O.jsx)(s.a,{component:dt,path:"/collection/:collectionId/photo/:id"}),Object(O.jsx)(s.a,{component:ut,path:"/collection/:collectionId"}),Object(O.jsx)(s.a,{component:ft,path:"/upload"}),Object(O.jsx)(s.a,{component:at,path:"/"})]},e.pathname)})},vt=function(){return Object(O.jsx)(N,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(gt,{})})})},xt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),a(t),o(t),c(t),r(t)}))};r.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(vt,{})}),document.getElementById("root")),xt()}},[[76,1,2]]]);
//# sourceMappingURL=main.21659ec0.chunk.js.map