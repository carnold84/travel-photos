{"version":3,"sources":["store/store.js","store/index.js","api/api.js","hooks/hooks.js","components/AppLink/index.js","components/AppLink/AppLink.js","components/Button/index.js","components/Button/Button.js","components/Layout/index.js","components/Layout/Layout.js","components/Spinner/index.js","components/Spinner/Spinner.js","components/Picture/index.js","components/Picture/Picture.js","components/PhotoCard/index.js","components/PhotoCard/PhotoCard.js","components/View/index.js","components/View/View.js","views/List/index.js","views/List/List.js","components/Map/index.js","components/Map/Map.js","views/Collection/index.js","views/Collection/Collection.js","views/Photo/Photo.js","views/Upload/SelectPhotos/index.js","views/Upload/SelectPhotos/SelectPhotos.js","views/Upload/SelectCollection/SelectCollection.js","views/Upload/SelectCollection/index.js","views/Upload/Upload.js","views/Upload/index.js","routes/index.js","routes/Routes.js","App.js","reportWebVitals.js","index.js"],"names":["ACTIONS","initialState","collections","allIds","byId","routesData","current","previous","isLoading","mapPosition","bounds","center","zoom","photos","reducer","state","action","type","collection","photosById","photosIds","map","photo","id","createCollectionReducer","payload","setRoutesDataReducer","allCollectionsIds","allPhotosIds","collectionsById","forEach","push","setInitialDataReducer","setMapPositionReducer","Set","updateCollectionReducer","Error","StoreContext","createContext","StoreProvider","children","useReducer","dispatch","Provider","value","KEY","getData","a","localStorage","getItem","JSON","parse","updateData","data","setItem","stringify","fetchInitialData","demoData","success","createCollection","nextCollection","uuidV4","updateCollection","createPhotos","photoUrls","url","createPhoto","getLocation","latitude","longitude","Promise","resolve","reject","fetch","response","json","location","img","Image","onload","exifr","CreateDate","ImageHeight","ImageWidth","address","name","city","country","suburb","town","metro","join","created","origHeight","origWidth","src","useStore","useContext","getCollection","collectionId","useCollections","AppLink","to","rest","Button","as","className","onClick","Tag","Layout","backTo","from","leftControls","noContentPadding","rightControls","title","width","height","viewBox","xmlns","d","Spinner","cx","cy","r","fill","strokeMiterlimit","strokeWidth","Picture","alt","useState","setIsLoading","opacity","setOpacity","elWrapper","useRef","elImage","useEffect","ref","style","onLoad","PhotoCard","imageUrl","meta","objectFit","View","isOver","level","motion","div","animate","exit","initial","zIndex","variants","hidden","y","transition","ease","duration","show","scale","List","useHistory","x1","y1","x2","y2","gradientUnits","stopColor","offset","length","numPhotos","thumbUrl","Map","forwardRef","markers","position","elMarkerGroup","MapContainer","scrollWheelZoom","whenCreated","evt","nextMap","fitBounds","getBounds","padding","TileLayer","attribution","noWrap","FeatureGroup","marker","Marker","eventHandlers","click","Tooltip","orientation","margin","textAlign","Collection","history","params","useParams","useLocation","initialCollection","useCollection","useMemo","mapRef","useMapPosition","setMapPosition","console","log","content","getCenter","getZoom","path","Photo","photoId","initialPhoto","pathname","SelectPhotos","onCancel","onNext","onUpdate","urls","createPhotosApi","elFileInput","onChange","files","target","file","URL","createObjectURL","nextPhotos","multiple","COLLECTION_TYPE","SelectCollection","onBack","onSave","collectionType","setCollectionType","collectionName","setCollectionName","selectedCollectionId","setSelectedCollectionId","onCollectionTypeChange","onSelectCollection","htmlFor","checked","STEPS","Upload","step","setStep","setPhotos","createCollectionApi","useCreateCollection","updateCollectionApi","useUpdateCollection","onClose","psuh","Routes","fetchInitialDataApi","useFetchInitialData","AnimatePresence","component","App","basename","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51ae3bc9.chunk.js","sourcesContent":["import { createContext, useReducer } from 'react';\n\nexport const ACTIONS = {\n  CREATE_COLLECTION: 'createCollection',\n  SET_INITIAL_DATA: 'setInitialData',\n  SET_MAP_POSITION: 'setMapPosition',\n  SET_ROUTES_DATA: 'setRoutesData',\n  UPDATE_COLLECTION: 'updateCollection',\n};\n\nconst initialState = {\n  collections: {\n    allIds: [],\n    byId: [],\n  },\n  routesData: {\n    current: null,\n    previous: null,\n  },\n  isLoading: true,\n  mapPosition: {\n    bounds: null,\n    center: null,\n    zoom: null,\n  },\n  photos: {\n    allIds: [],\n    byId: [],\n  },\n};\n\nconst setInitialDataReducer = (state, { collections }) => {\n  const allCollectionsIds = [];\n  const allPhotosIds = [];\n  const collectionsById = {};\n  const photosById = {};\n\n  collections.forEach((collection) => {\n    allCollectionsIds.push(collection.id);\n    collectionsById[collection.id] = {\n      ...collection,\n      photos: collection.photos.map(({ id }) => {\n        return id;\n      }),\n    };\n\n    collection.photos.forEach((photo) => {\n      allPhotosIds.push(photo.id);\n      photosById[photo.id] = photo;\n    });\n  });\n\n  return {\n    ...state,\n    collections: {\n      allIds: allCollectionsIds,\n      byId: collectionsById,\n    },\n    isLoading: false,\n    photos: {\n      allIds: allPhotosIds,\n      byId: photosById,\n    },\n  };\n};\n\nconst createCollectionReducer = (state, collection) => {\n  const photosById = {};\n  const photosIds = collection.photos.map((photo) => {\n    photosById[photo.id] = photo;\n\n    return photo.id;\n  });\n\n  return {\n    ...state,\n    collections: {\n      allIds: [...state.collections.allIds, collection.id],\n      byId: {\n        ...state.collections.byId,\n        [collection.id]: {\n          ...collection,\n          photos: photosIds,\n        },\n      },\n    },\n    photos: {\n      allIds: [...state.photos.allIds, ...photosIds],\n      byId: {\n        ...state.photos.byId,\n        ...photosById,\n      },\n    },\n  };\n};\n\nconst updateCollectionReducer = (state, collection) => {\n  const photosById = {};\n  const allPhotosIds = collection.photos.map((photo) => {\n    photosById[photo.id] = photo;\n\n    return photo.id;\n  });\n\n  return {\n    ...state,\n    collections: {\n      ...state.collections,\n      byId: {\n        ...state.collections.byId,\n        [collection.id]: collection,\n      },\n    },\n    photos: {\n      // use Set to dedupe\n      allIds: new Set([...state.photos.allIds, ...allPhotosIds]),\n      byId: {\n        ...state.photos.byId,\n        ...photosById,\n      },\n    },\n  };\n};\n\nconst setMapPositionReducer = (state, mapPosition) => {\n  return {\n    ...state,\n    mapPosition,\n  };\n};\n\nconst setRoutesDataReducer = (state, routesData) => {\n  return {\n    ...state,\n    routesData: {\n      ...state.routesData,\n      ...routesData,\n    },\n  };\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.CREATE_COLLECTION:\n      return createCollectionReducer(state, action.payload);\n\n    case ACTIONS.SET_ROUTES_DATA:\n      return setRoutesDataReducer(state, action.payload);\n\n    case ACTIONS.SET_INITIAL_DATA:\n      return setInitialDataReducer(state, action.payload);\n\n    case ACTIONS.SET_MAP_POSITION:\n      return setMapPositionReducer(state, action.payload);\n\n    case ACTIONS.UPDATE_COLLECTION:\n      return updateCollectionReducer(state, action.payload);\n\n    default:\n      throw new Error();\n  }\n};\n\nexport const StoreContext = createContext(initialState);\n\nconst StoreProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <StoreContext.Provider value={{ dispatch, state }}>\n      {children}\n    </StoreContext.Provider>\n  );\n};\n\nexport default StoreProvider;\n","import StoreProvider from './store';\nexport { ACTIONS, StoreContext } from './store';\n\nexport default StoreProvider;\n","import exifr from 'exifr';\nimport { v4 as uuidV4 } from 'uuid';\nimport demoData from './demo-data.json';\n\nconst KEY = 'travel_photos';\n\nconst getData = async () => {\n  let value = await localStorage.getItem(KEY);\n  value = JSON.parse(value);\n\n  return value;\n};\n\nconst updateData = async (data) => {\n  await localStorage.setItem(KEY, JSON.stringify(data));\n};\n\nexport const fetchInitialData = async () => {\n  let data = await getData();\n\n  if (data === null) {\n    data = demoData;\n    await updateData(data);\n  }\n\n  return {\n    data,\n    success: true,\n  };\n};\n\nexport const createCollection = async (collection) => {\n  const nextCollection = {\n    ...collection,\n    id: uuidV4(),\n  };\n\n  const data = await getData();\n  updateData({\n    ...data,\n    collections: [...data.collections, nextCollection],\n  });\n\n  return {\n    data: nextCollection,\n    success: true,\n  };\n};\n\nexport const updateCollection = async ({ collection, photos }) => {\n  const nextCollection = {\n    ...collection,\n    photos: [...collection.photos, ...photos],\n  };\n\n  const data = await getData();\n  updateData({\n    ...data,\n    collections: data.collections.map((collection) => {\n      if (collection.id === nextCollection.id) {\n        return nextCollection;\n      }\n      return collection;\n    }),\n  });\n\n  return {\n    data: nextCollection,\n    success: true,\n  };\n};\n\nexport const createPhotos = async (photoUrls) => {\n  const photos = [];\n\n  for (const url of photoUrls) {\n    const photo = await createPhoto(url);\n\n    photos.push(photo.data);\n  }\n\n  return {\n    data: photos,\n    success: true,\n  };\n};\n\nconst getLocation = async ({ latitude, longitude }) => {\n  return new Promise(async (resolve, reject) => {\n    const response = await fetch(\n      `https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json`\n    );\n    const location = await response.json();\n    resolve(location);\n  });\n};\n\nconst createPhoto = async (url) => {\n  return new Promise((resolve, reject) => {\n    let photo = {\n      id: uuidV4(),\n      url,\n    };\n\n    const img = new Image();\n    img.onload = async () => {\n      let { CreateDate, ImageHeight, ImageWidth, latitude, longitude } =\n        (await exifr.parse(url)) || {};\n\n      if (latitude && longitude) {\n        const location = await getLocation({ latitude, longitude });\n\n        const address = [];\n        let name = '';\n        if (location) {\n          const { city, country, suburb, town } = location.address;\n          let metro;\n\n          if (city) {\n            metro = city;\n          } else if (town) {\n            metro = town;\n          }\n\n          if (suburb && metro !== suburb) {\n            address.push(suburb);\n          }\n\n          if (metro) {\n            address.push(metro);\n          }\n\n          if (country) {\n            address.push(country);\n          }\n\n          name = address.join(', ');\n        }\n        photo = {\n          ...photo,\n          created: CreateDate,\n          latitude,\n          location,\n          longitude,\n          origHeight: ImageHeight,\n          origWidth: ImageWidth,\n          name,\n        };\n      }\n\n      resolve({\n        data: photo,\n        success: true,\n      });\n    };\n    img.src = url;\n  });\n};\n","import { useContext, useMemo } from 'react';\nimport { ACTIONS, StoreContext } from '../store';\nimport {\n  createCollection as createCollectionApi,\n  createPhotos as createPhotosApi,\n  fetchInitialData as fetchInitialDataApi,\n  updateCollection as updateCollectionApi,\n} from '../api';\n\nexport const useStore = () => {\n  const store = useContext(StoreContext);\n\n  return store;\n};\n\nexport const useFetchInitialData = () => {\n  const { dispatch } = useStore();\n\n  const fetchInitialData = async () => {\n    const response = await fetchInitialDataApi();\n\n    dispatch({\n      payload: response.data,\n      type: ACTIONS.SET_INITIAL_DATA,\n    });\n  };\n\n  return fetchInitialData;\n};\n\nconst getCollection = (state, collectionId) => {\n  const collection = state.collections.byId[collectionId];\n\n  if (!collection) {\n    return;\n  }\n\n  return {\n    ...collection,\n    photos: collection.photos.map((id) => {\n      return state.photos.byId[id];\n    }),\n  };\n};\n\nexport const useCollection = (collectionId) => {\n  const { state } = useStore();\n\n  return getCollection(state, collectionId);\n};\n\nexport const useCollections = () => {\n  const { state } = useStore();\n\n  return state.collections.allIds.map((id) => {\n    return getCollection(state, id);\n  });\n};\n\nexport const usePhoto = (photoId) => {\n  const { state } = useStore();\n\n  return state.photos.byId[photoId];\n};\n\nexport const useCreatePhotos = () => {\n  const createPhotos = async (urls) => {\n    return await createPhotosApi(urls);\n  };\n\n  return createPhotos;\n};\n\nexport const useCreateCollection = () => {\n  const { dispatch } = useStore();\n\n  const createCollection = async ({ collection, photos }) => {\n    const response = await createCollectionApi({\n      ...collection,\n      photos,\n    });\n\n    dispatch({\n      payload: response.data,\n      type: ACTIONS.CREATE_COLLECTION,\n    });\n  };\n\n  return createCollection;\n};\n\nexport const useUpdateCollection = () => {\n  const { dispatch, state } = useStore();\n\n  const updateCollection = async (collection, photos) => {\n    const response = await updateCollectionApi({\n      ...state.collections.byId[collection.id],\n      ...collection,\n      photos,\n    });\n\n    dispatch({\n      payload: response.data,\n      type: ACTIONS.UPDATE_COLLECTION,\n    });\n  };\n\n  return updateCollection;\n};\n\nexport const useMapPosition = () => {\n  const { dispatch, state } = useStore();\n\n  const mapPosition = useMemo(() => {\n    return state.mapPosition;\n  }, [state.mapPosition]);\n\n  const setMapPosition = (position) => {\n    dispatch({\n      payload: position,\n      type: ACTIONS.SET_MAP_POSITION,\n    });\n  };\n\n  return [mapPosition, setMapPosition];\n};\n\nexport const useRoutesData = () => {\n  const { dispatch, state } = useStore();\n\n  const routesData = useMemo(() => {\n    return state.routesData;\n  }, [state.routesData]);\n\n  const setRoutesData = (routesData) => {\n    dispatch({\n      payload: routesData,\n      type: ACTIONS.SET_ROUTES_DATA,\n    });\n  };\n\n  return [routesData, setRoutesData];\n};\n","import AppLink from './AppLink';\n\nexport default AppLink;\n","import { Link } from 'react-router-dom';\n//import { useRoutesData } from '../../hooks/hooks';\nimport './AppLink.css';\n\nconst AppLink = ({ children, to, ...rest }) => {\n  //const [routesData, setRoutesData] = useRoutesData();\n\n  /* const onClick = () => {\n    setRoutesData({\n      current: to,\n      previous: routesData.current,\n    });\n  }; */\n\n  return (\n    <Link to={to} {...rest}>\n      {children}\n    </Link>\n  );\n};\n\nexport default AppLink;\n","import Button from './Button';\n\nexport default Button;\n","import './Button.css';\n\nconst Button = ({ as = 'button', className, children, onClick, ...rest }) => {\n  const Tag = as;\n\n  return (\n    <Tag\n      className={['button', className].join(' ')}\n      onClick={onClick}\n      {...rest}>\n      {children}\n    </Tag>\n  );\n};\n\nexport default Button;\n","import Layout from './Layout';\n\nexport default Layout;\n","import AppLink from '../AppLink';\nimport Button from '../Button';\nimport './Layout.css';\n\nconst Layout = ({\n  backTo,\n  children,\n  from,\n  id,\n  leftControls,\n  noContentPadding = false,\n  rightControls,\n  title,\n  ...rest\n}) => {\n  return (\n    <div className=\"layout\" {...rest}>\n      <header className={'layout-header'}>\n        <div className={'layout-left-controls'} {...rest}>\n          {backTo && (\n            <AppLink from={from} to={backTo}>\n              <Button as={'span'} className={'layout-back-btn'}>\n                <svg\n                  width=\"8\"\n                  height=\"14\"\n                  viewBox=\"0 0 8 14\"\n                  xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M0.288025 7.00001L6.29802 13.01L7.71202 11.596L3.11202 6.99601L7.71202 2.39601L6.29802 0.990005L0.288025 7.00001Z\" />\n                </svg>\n              </Button>\n            </AppLink>\n          )}\n          {title && <h3 className={'layout-title'}>{title}</h3>}\n          {leftControls}\n        </div>\n        <div className={'layout-right-controls'}>{rightControls}</div>\n      </header>\n      <main\n        className={[\n          'layout-content',\n          noContentPadding ? 'no-padding' : null,\n        ].join(' ')}>\n        {children}\n      </main>\n    </div>\n  );\n};\n\nexport default Layout;\n","import Spinner from './Spinner';\n\nexport default Spinner;\n","import React from 'react';\nimport './Spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className={'spinner'}>\n      <div className={'loader'}>\n        <svg className={'circle'} viewBox=\"25 25 50 50\">\n          <circle\n            className={'path'}\n            cx=\"50\"\n            cy=\"50\"\n            r=\"15\"\n            fill=\"none\"\n            strokeMiterlimit=\"10\"\n            strokeWidth=\"3\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import Picture from './Picture';\n\nexport default Picture;\n","import React, { useEffect, useRef, useState } from 'react';\nimport Spinner from '../Spinner';\nimport './Picture.css';\n\nconst Picture = ({ alt = '', height = '100%', url, width = '100%' }) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [opacity, setOpacity] = useState(0);\n  const elWrapper = useRef();\n  const elImage = useRef();\n\n  const onImageLoaded = () => {\n    setOpacity(1);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    elImage.current.src = url;\n  }, [url]);\n\n  return (\n    <div className={'picture'} ref={elWrapper} style={{ height, width }}>\n      {isLoading && (\n        <div className={'loading_screen'}>\n          <Spinner />\n        </div>\n      )}\n      <div\n        className={'picture_container'}\n        style={{\n          height,\n          opacity,\n          width,\n        }}>\n        <img\n          className={'image'}\n          alt={alt}\n          onLoad={onImageLoaded}\n          ref={elImage}\n          style={{ height, width }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Picture;\n","import PhotoCard from './PhotoCard';\n\nexport default PhotoCard;\n","import AppLink from '../AppLink';\nimport Picture from '../Picture';\nimport './PhotoCard.css';\n\nconst PhotoCard = ({ imageUrl, meta, onClick, title, to, ...rest }) => {\n  return (\n    <AppLink className={'photo-card'} from={'/'} to={to} {...rest}>\n      <div className={'photo-card-image-container '}>\n        <div className={'photo-card-image'}>\n          <Picture alt={title} url={imageUrl} style={{ objectFit: 'cover' }} />\n        </div>\n      </div>\n      <div className={'photo-card-text'}>\n        <h2 className={'photo-card-title'}>{title}</h2>\n        <p className={'photo-card-meta'}>\n          <svg\n            className={'photo-card-meta-icon'}\n            viewBox=\"0 0 18 18\"\n            xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M16 18H2C0.89543 18 0 17.1046 0 16V2C0 0.89543 0.89543 0 2 0H16C17.1046 0 18 0.89543 18 2V16C18 17.1046 17.1046 18 16 18ZM2 2V16H16V2H2ZM15 14H3L6 10L7 11L10 7L15 14ZM5.5 8C4.67157 8 4 7.32843 4 6.5C4 5.67157 4.67157 5 5.5 5C6.32843 5 7 5.67157 7 6.5C7 7.32843 6.32843 8 5.5 8Z\" />\n          </svg>\n          {meta}\n        </p>\n      </div>\n    </AppLink>\n  );\n};\n\nexport default PhotoCard;\n","import View from './View';\n\nexport default View;\n","import { motion } from 'framer-motion';\nimport './View.css';\n\nconst View = ({ children, id, isOver = true, level, ...rest }) => {\n  const under = {\n    hidden: { scale: 0.9, transition: { ease: 'easeOut', duration: 0.3 } },\n    show: { scale: 1, transition: { ease: 'easeOut', duration: 0.3 } },\n  };\n\n  const over = {\n    hidden: { y: '100%', transition: { ease: 'easeIn', duration: 0.3 } },\n    show: { y: 0, transition: { ease: 'easeOut', duration: 0.3 } },\n  };\n\n  return (\n    <motion.div\n      animate={'show'}\n      className={'view'}\n      exit={'hidden'}\n      initial={'hidden'}\n      style={{\n        zIndex: level,\n      }}\n      variants={isOver === true ? over : under}\n      {...rest}>\n      {children}\n    </motion.div>\n  );\n};\n\nexport default View;\n","import List from './List';\n\nexport default List;\n","import { useHistory } from 'react-router-dom';\nimport Layout from '../../components/Layout';\nimport PhotoCard from '../../components/PhotoCard';\nimport View from '../../components/View';\nimport { useCollections } from '../../hooks';\nimport './List.css';\n\nconst List = () => {\n  const collections = useCollections();\n  const history = useHistory();\n\n  return (\n    <View id={'list'} level={0} /* isOver={false} */>\n      <Layout\n        id={'list'}\n        leftControls={\n          <>\n            <svg\n              className={'list-logo'}\n              viewBox=\"0 0 32 40\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M7.88336 32.2825C10.2234 35.0612 12.7884 37.6424 15.5523 40C18.3586 37.6063 20.9597 34.9822 23.3285 32.1549C26.8833 27.9092 31.1048 21.586 31.1048 15.5606C31.116 12.028 29.9172 8.61721 27.7374 5.88181L24.931 9.61367C26.0243 11.3329 26.6586 13.3727 26.6612 15.5606C26.6612 18.149 25.4903 22.6347 19.9203 29.3111C18.5456 30.9482 17.0877 32.5137 15.5524 34.0012C14.0171 32.5119 12.5599 30.9442 11.1866 29.3044C10.9963 29.0767 10.8111 28.8516 10.631 28.6289L7.88336 32.2825ZM7.78018 24.7052L4.95393 28.4634C2.31149 24.641 1.96329e-06 20.0193 1.96329e-06 15.5606C-0.00314886 9.26755 3.78644 3.59282 9.6004 1.18444C14.508 -0.848468 20.0414 -0.215845 24.3225 2.7083L21.6412 6.27371C19.8927 5.1242 17.8007 4.45447 15.5524 4.45178C9.42016 4.45912 4.45088 9.42841 4.44353 15.5606C4.44353 17.503 5.10181 20.511 7.78018 24.7052Z\"\n                fill=\"url(#paint0_linear)\"\n              />\n              <defs>\n                <linearGradient\n                  id=\"paint0_linear\"\n                  x1=\"26.0816\"\n                  y1=\"4.41393e-07\"\n                  x2=\"6.37548\"\n                  y2=\"34.1959\"\n                  gradientUnits=\"userSpaceOnUse\">\n                  <stop stopColor=\"#951CCE\" />\n                  <stop offset=\"1\" stopColor=\"#C92DB9\" />\n                </linearGradient>\n              </defs>\n            </svg>\n            <h1 className=\"list-title\">Travel Photos</h1>\n          </>\n        }\n        /* rightControls={\n          <Button\n            onClick={() => history.push('/upload')}\n            style={{ height: '40px', width: '40px' }}\n            title={'Upload'}>\n            <svg\n              width=\"12\"\n              height=\"12\"\n              viewBox=\"0 0 14 14\"\n              xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M8 8V14H6V8H0V6H6V0H8V6H14V8H8Z\" />\n            </svg>\n          </Button>\n        } */\n      >\n        {collections.length === 0 && <p>No collections</p>}\n        {collections.length > 0 && (\n          <div className={'list-grid'}>\n            {collections.map(({ id, name, photos }) => {\n              const numPhotos = photos.length;\n\n              return (\n                <PhotoCard\n                  key={id}\n                  meta={\n                    numPhotos === 1\n                      ? `${numPhotos} photo`\n                      : `${numPhotos} photos`\n                  }\n                  imageUrl={photos[0]?.thumbUrl}\n                  title={name}\n                  to={`/collection/${id}`}\n                />\n              );\n            })}\n          </div>\n        )}\n      </Layout>\n    </View>\n  );\n};\n\nexport default List;\n","import Map from './Map';\n\nexport default Map;\n","import { forwardRef, useEffect, useRef, useState } from 'react';\nimport {\n  MapContainer,\n  TileLayer,\n  Marker,\n  FeatureGroup,\n  Tooltip,\n} from 'react-leaflet';\nimport Picture from '../Picture';\nimport './Map.css';\n\nconst Map = forwardRef(({ markers = [], position }, ref) => {\n  const elMarkerGroup = useRef(null);\n\n  const onCreated = (evt) => {\n    const nextMap = evt;\n    nextMap.fitBounds(elMarkerGroup.current.getBounds(), {\n      padding: [40, 40],\n    });\n    ref.current = nextMap;\n  };\n\n  return (\n    <div style={{ height: '100%', width: '100%' }}>\n      <MapContainer\n        bounds={position.zoom ?? 0}\n        center={position.center ?? [0, 0]}\n        scrollWheelZoom={true}\n        style={{ height: '100%', width: '100%' }}\n        whenCreated={onCreated}\n        zoom={position.zoom ?? 0}>\n        <TileLayer\n          attribution={\n            'Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.'\n          }\n          noWrap={true}\n          url={\n            'https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png'\n          }\n        />\n        <FeatureGroup ref={elMarkerGroup}>\n          {markers.map((marker) => {\n            if (marker.latitude && marker.longitude) {\n              return (\n                <Marker\n                  key={marker.id}\n                  eventHandlers={{\n                    click: marker.onClick,\n                  }}\n                  position={[marker.latitude, marker.longitude]}>\n                  <Tooltip>\n                    <div\n                      style={{\n                        height:\n                          marker.orientation === 'portrait' ? '200px' : null,\n                        width:\n                          marker.orientation === 'landscape' ? '200px' : null,\n                      }}>\n                      <Picture\n                        alt={marker.name}\n                        height={\n                          marker.orientation === 'portrait' ? '200px' : null\n                        }\n                        url={marker.thumbUrl}\n                        width={\n                          marker.orientation === 'landscape' ? '200px' : null\n                        }\n                      />\n                    </div>\n                    <div style={{ margin: '5px 0 0', textAlign: 'center' }}>\n                      Click marker to view\n                    </div>\n                  </Tooltip>\n                </Marker>\n              );\n            }\n\n            return null;\n          })}\n        </FeatureGroup>\n      </MapContainer>\n    </div>\n  );\n});\n\nexport default Map;\n","import Collection from './Collection';\n\nexport default Collection;\n","import { useHistory, useLocation, useParams } from 'react-router-dom';\nimport { useEffect, useMemo, useRef } from 'react';\nimport Layout from '../../components/Layout';\nimport Map from '../../components/Map';\nimport View from '../../components/View';\nimport { useCollection } from '../../hooks';\nimport { useMapPosition } from '../../hooks';\nimport './Collection.css';\n//import { useRoutesData } from '../../hooks/hooks';\n\nconst Collection = () => {\n  const history = useHistory();\n  const params = useParams();\n  const location = useLocation();\n  //const [routesData, setRoutesData] = useRoutesData();\n  const collectionId = params?.collectionId;\n  const initialCollection = useCollection(collectionId);\n  // store collection so it still show when closing\n  const collection = useMemo(() => {\n    return initialCollection;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const mapRef = useRef();\n  const [mapPosition, setMapPosition] = useMapPosition();\n\n  console.log(collection);\n  const markers = useMemo(() => {\n    return collection?.photos.map(\n      ({ id, latitude, longitude, name, orientation, thumbUrl }) => {\n        return {\n          id,\n          latitude,\n          longitude,\n          name,\n          orientation,\n          onClick: () => {\n            const to = `/collection/${collection.id}/photo/${id}`;\n            /* setRoutesData({\n            current: to,\n            previous: routesData.current,\n          }); */\n            history.push(to);\n          },\n          thumbUrl,\n        };\n      }\n    );\n  }, [collection, history]);\n\n  console.log(markers);\n\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const map = mapRef.current;\n      if (map) {\n        setMapPosition({\n          bounds: map.getBounds(),\n          center: map.getCenter(),\n          zoom: map.getZoom(),\n        });\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let content;\n\n  if (collection) {\n    content = <Map markers={markers} position={mapPosition} ref={mapRef} />;\n  } else {\n    content = <div>Collection doesn't exist.</div>;\n  }\n\n  /* let isOver = true;\n  if (\n    routesData.current?.includes('photo') ||\n    routesData.previous?.includes('photo')\n  ) {\n    isOver = false;\n  } */\n\n  return (\n    <View id={'collection'} level={1} /* isOver={isOver} */>\n      <Layout\n        backTo={'/'}\n        from={location?.path}\n        id={'collection'}\n        noContentPadding={true}\n        title={collection?.name}>\n        {content}\n      </Layout>\n    </View>\n  );\n};\n\nexport default Collection;\n","import { useLocation, useParams } from 'react-router-dom';\nimport { useMemo } from 'react';\nimport Layout from '../../components/Layout';\nimport View from '../../components/View';\nimport { usePhoto } from '../../hooks';\nimport './Photo.css';\nimport Picture from '../../components/Picture';\n\nconst Photo = () => {\n  const params = useParams();\n  const location = useLocation();\n  const initialPhoto = usePhoto(params?.id);\n  const photo = useMemo(() => {\n    return initialPhoto;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  let content = 'Photo not found';\n\n  if (photo) {\n    content = <Picture alt={''} url={photo?.url} />;\n  }\n\n  return (\n    <View id={'photo'} level={2}>\n      <Layout\n        backTo={`/collection/${params?.collectionId}`}\n        from={location.pathname}\n        id={'photo'}\n        title={photo?.name}>\n        <div className={'photo-content'}>{content}</div>\n      </Layout>\n    </View>\n  );\n};\n\nexport default Photo;\n","import SelectPhotos from './SelectPhotos';\n\nexport default SelectPhotos;\n","import { useRef } from 'react';\nimport Button from '../../../components/Button';\nimport { useCreatePhotos } from '../../../hooks/hooks';\nimport './SelectPhotos.css';\n\nconst SelectPhotos = ({ onCancel, onNext, onUpdate, photos }) => {\n  const createPhotos = useCreatePhotos();\n  const elFileInput = useRef();\n\n  const onChange = async (evt) => {\n    const { files } = evt.target;\n\n    if (files) {\n      const urls = [];\n      for (const file of files) {\n        urls.push(URL.createObjectURL(file));\n      }\n\n      let nextPhotos = await createPhotos(urls);\n\n      console.log(JSON.stringify(nextPhotos));\n      onUpdate(nextPhotos.data);\n    }\n  };\n\n  const onSelectImages = () => {\n    elFileInput.current.click();\n  };\n\n  console.log(photos);\n\n  return (\n    <div className={'select_photos'}>\n      <h2>Choose Photos</h2>\n      <div className={'image_input'}>\n        <Button onClick={onSelectImages} style={{ width: '100%' }}>\n          Select Images\n        </Button>\n        <input\n          multiple={true}\n          onChange={onChange}\n          ref={elFileInput}\n          type={'file'}\n        />\n      </div>\n      <div>\n        {!photos && 'Loading...'}\n        {photos &&\n          photos.map((photo) => {\n            const { id, location, name, url } = photo;\n            if (location) {\n              return (\n                <img alt={name} key={id} src={url} style={{ width: '140px' }} />\n              );\n            }\n            return 'No location data';\n          })}\n      </div>\n      <div className={'footer'}>\n        <Button onClick={onCancel}>Cancel</Button>\n        <Button onClick={onNext}>Next</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default SelectPhotos;\n","import { useState } from 'react';\nimport { useCollections } from '../../../hooks';\nimport './SelectCollection.css';\n\nconst COLLECTION_TYPE = {\n  CHOOSE: 'choose',\n  NEW: 'new',\n};\n\nconst SelectCollection = ({ onBack, onCancel, onSave }) => {\n  const [collectionType, setCollectionType] = useState(COLLECTION_TYPE.NEW);\n  const [collectionName, setCollectionName] = useState('');\n  const collections = useCollections();\n  const [selectedCollectionId, setSelectedCollectionId] = useState(\n    collections[0]?.id\n  );\n\n  const onCollectionTypeChange = (evt) => {\n    console.log(evt.target.value);\n    setCollectionType(evt.target.value);\n  };\n\n  const onSelectCollection = (evt) => {\n    console.log(evt.target.value);\n    setSelectedCollectionId(evt.target.value);\n  };\n\n  const onCollectionNameChange = (evt) => {\n    setCollectionName(evt.target.value);\n  };\n\n  const onSavePhotos = () => {\n    if (collectionType === COLLECTION_TYPE.NEW) {\n      onSave(null, collectionName);\n    } else {\n      onSave(selectedCollectionId, collectionName);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Choose Collection</h2>\n      {collections.length > 0 && (\n        <div>\n          <label htmlFor=\"new-collection\">New Collection:</label>\n          <input\n            checked={collectionType === COLLECTION_TYPE.NEW}\n            id={'new-collection'}\n            name={'collection'}\n            onChange={onCollectionTypeChange}\n            type={'radio'}\n            value={COLLECTION_TYPE.NEW}\n          />\n          <label htmlFor=\"choose-collection\">Choose Collection:</label>\n          <input\n            checked={collectionType === COLLECTION_TYPE.CHOOSE}\n            id={'choose-collection'}\n            name={'collection'}\n            onChange={onCollectionTypeChange}\n            type={'radio'}\n            value={COLLECTION_TYPE.CHOOSE}\n          />\n        </div>\n      )}\n      {collectionType === COLLECTION_TYPE.NEW && (\n        <div>\n          <label htmlFor={'collection-name'}>Collection Name</label>\n          <input onChange={onCollectionNameChange} type={'text'} />\n        </div>\n      )}\n      {collectionType === COLLECTION_TYPE.CHOOSE && (\n        <div>\n          {collections.map((collection) => {\n            return (\n              <label htmlFor={collection.id} key={collection.id}>\n                <input\n                  checked={selectedCollectionId === collection.id}\n                  id={collection.id}\n                  name={'collections'}\n                  onChange={onSelectCollection}\n                  type={'radio'}\n                  value={collection.id}\n                />\n                {collection.name}\n              </label>\n            );\n          })}\n        </div>\n      )}\n      <button onClick={onCancel}>Cancel</button>\n      <button onClick={onBack}>Back</button>\n      <button onClick={onSavePhotos}>Save Photos</button>\n    </div>\n  );\n};\n\nexport default SelectCollection;\n","import SelectCollection from './SelectCollection';\n\nexport default SelectCollection;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useCreateCollection, useUpdateCollection } from '../../hooks';\nimport SelectPhotos from './SelectPhotos';\nimport SelectCollection from './SelectCollection';\nimport View from '../../components/View';\nimport Layout from '../../components/Layout';\nimport './Upload.css';\n\nconst STEPS = {\n  PHOTOS: 'photos',\n  COLLECTION: 'collection',\n};\n\nconst Upload = () => {\n  const [step, setStep] = useState(STEPS.PHOTOS);\n  const [photos, setPhotos] = useState([]);\n  const history = useHistory();\n  const createCollection = useCreateCollection();\n  const updateCollection = useUpdateCollection();\n\n  const onGoToPhotos = () => {\n    setStep(STEPS.PHOTOS);\n  };\n\n  const onGoToCollection = () => {\n    setStep(STEPS.COLLECTION);\n  };\n\n  const onUpdatePhotos = (data) => {\n    console.log(data);\n    setPhotos([...photos, ...data]);\n  };\n\n  const onClose = () => {\n    history.push('/');\n  };\n\n  const onSave = async (id, name) => {\n    console.log(id, name);\n    if (id) {\n      updateCollection({\n        photos,\n        collection: {\n          id,\n          name,\n        },\n      });\n    } else {\n      createCollection({\n        photos,\n        collection: {\n          name,\n        },\n      });\n    }\n\n    onClose();\n  };\n\n  return (\n    <View level={2}>\n      <Layout\n        id={'upload'}\n        noContentPadding={true}\n        onBack={() => history.psuh('/')}\n        title={'Add Photos'}>\n        {step === STEPS.PHOTOS && (\n          <SelectPhotos\n            onCancel={onClose}\n            onNext={onGoToCollection}\n            onUpdate={onUpdatePhotos}\n            photos={photos}\n          />\n        )}\n        {step === STEPS.COLLECTION && (\n          <SelectCollection\n            onBack={onGoToPhotos}\n            onCancel={onClose}\n            onSave={onSave}\n          />\n        )}\n      </Layout>\n    </View>\n  );\n};\n\nexport default Upload;\n","import Upload from './Upload';\n\nexport default Upload;\n","import Routes from './Routes';\n\nexport default Routes;\n","import { useEffect } from 'react';\nimport { Route, Switch, useLocation } from 'react-router-dom';\nimport { AnimatePresence } from 'framer-motion';\n\nimport './routes.css';\nimport { useFetchInitialData, useStore } from '../hooks';\nimport List from '../views/List';\nimport Collection from '../views/Collection';\nimport Photo from '../views/Photo/Photo';\nimport Upload from '../views/Upload';\n//import { useRoutesData } from '../hooks/hooks';\n\nconst Routes = () => {\n  const { state } = useStore();\n  const location = useLocation();\n  const fetchInitialData = useFetchInitialData();\n  //const [routesData, setRoutesData] = useRoutesData();\n\n  useEffect(() => {\n    if (state.isLoading) {\n      fetchInitialData();\n    }\n  }, [fetchInitialData, state.isLoading]);\n\n  /* useEffect(() => {\n    setRoutesData({\n      current: location.pathname,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); */\n\n  if (state.isLoading) {\n    return 'Loading...';\n  }\n\n  return (\n    <AnimatePresence initial={false}>\n      <Switch key={location.pathname} location={location}>\n        <Route component={Photo} path={'/collection/:collectionId/photo/:id'} />\n        <Route component={Collection} path={'/collection/:collectionId'} />\n        <Route component={Upload} path={'/upload'} />\n        <Route component={List} path={'/'} />\n      </Switch>\n    </AnimatePresence>\n  );\n};\n\nexport default Routes;\n","import { BrowserRouter as Router } from 'react-router-dom';\nimport Routes from './routes';\nimport StoreProvider from './store';\n\nconst App = () => {\n  return (\n    <StoreProvider>\n      <Router basename=\"/travel-photos\">\n        <Routes />\n      </Router>\n    </StoreProvider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}