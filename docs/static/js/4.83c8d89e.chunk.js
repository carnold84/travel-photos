(this["webpackJsonptravel-photos"]=this["webpackJsonptravel-photos"]||[]).push([[4],{100:function(t,e,n){"use strict";n.r(e);var i=n(6),c=n(7),o=n(1),a=n(73),l=n(91),r=n(102),s=n(92),d=n(93),u=n(94),j=n(78),h=(n(83),n(5)),b=Object(o.forwardRef)((function(t,e){var n,i,c,a=t.markers,b=void 0===a?[]:a,O=t.position,v=Object(o.useRef)(null);return Object(h.jsx)("div",{style:{height:"100%",width:"100%"},children:Object(h.jsxs)(l.a,{bounds:null!==(n=O.zoom)&&void 0!==n?n:0,center:null!==(i=O.center)&&void 0!==i?i:[0,0],scrollWheelZoom:!0,style:{height:"100%",width:"100%"},whenCreated:function(t){var n=t;n.fitBounds(v.current.getBounds(),{padding:[40,40]}),e.current=n},zoom:null!==(c=O.zoom)&&void 0!==c?c:0,children:[Object(h.jsx)(r.a,{attribution:"Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.",noWrap:!0,url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"}),Object(h.jsx)(s.a,{ref:v,children:b.map((function(t){return t.latitude&&t.longitude?Object(h.jsx)(d.a,{eventHandlers:{click:t.onClick},position:[t.latitude,t.longitude],children:Object(h.jsxs)(u.a,{children:[Object(h.jsx)("div",{style:{height:"portrait"===t.orientation?"200px":null,width:"landscape"===t.orientation?"200px":null},children:Object(h.jsx)(j.a,{alt:t.name,height:"portrait"===t.orientation?"200px":null,url:t.thumbUrl,width:"landscape"===t.orientation?"200px":null})}),Object(h.jsx)("div",{style:{margin:"5px 0 0",textAlign:"center"},children:"Click marker to view"})]})},t.id):null}))})]})})})),O=n(74),v=n(21),f=(n(84),function(){var t=Object(c.f)(),e=Object(c.h)(),n=Object(c.g)(),l=null===e||void 0===e?void 0:e.collectionId,r=Object(v.a)(l),s=Object(o.useMemo)((function(){return r}),[]),d=Object(o.useRef)(),u=Object(v.e)(),j=Object(i.a)(u,2),f=j[0],m=j[1];console.log(s);var x,p=Object(o.useMemo)((function(){return null===s||void 0===s?void 0:s.photos.map((function(e){var n=e.id,i=e.latitude,c=e.longitude,o=e.name,a=e.orientation,l=e.thumbUrl;return{id:n,latitude:i,longitude:c,name:o,orientation:a,onClick:function(){var e="/collection/".concat(s.id,"/photo/").concat(n);t.push(e)},thumbUrl:l}}))}),[s,t]);return console.log(p),Object(o.useEffect)((function(){return function(){var t=d.current;t&&m({bounds:t.getBounds(),center:t.getCenter(),zoom:t.getZoom()})}}),[]),x=s?Object(h.jsx)(b,{markers:p,position:f,ref:d}):Object(h.jsx)("div",{children:"Collection doesn't exist."}),Object(h.jsx)(O.a,{id:"collection",level:1,children:Object(h.jsx)(a.a,{backTo:"/",from:null===n||void 0===n?void 0:n.path,id:"collection",noContentPadding:!0,title:null===s||void 0===s?void 0:s.name,children:x})})});e.default=f},67:function(t,e,n){"use strict";var i=n(4),c=n(64),o=n(20),a=(n(69),n(5)),l=["children","to"],r=function(t){var e=t.children,n=t.to,r=Object(c.a)(t,l);return Object(a.jsx)(o.b,Object(i.a)(Object(i.a)({to:n},r),{},{children:e}))};e.a=r},68:function(t,e,n){"use strict";var i=n(4),c=n(64),o=(n(70),n(5)),a=["as","className","children","onClick"],l=function(t){var e=t.as,n=void 0===e?"button":e,l=t.className,r=t.children,s=t.onClick,d=Object(c.a)(t,a),u=n;return Object(o.jsx)(u,Object(i.a)(Object(i.a)({className:["button",l].join(" "),onClick:s},d),{},{children:r}))};e.a=l},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){"use strict";var i=n(4),c=n(64),o=n(67),a=n(68),l=(n(71),n(5)),r=["backTo","children","from","id","leftControls","noContentPadding","rightControls","title"],s=function(t){var e=t.backTo,n=t.children,s=t.from,d=(t.id,t.leftControls),u=t.noContentPadding,j=void 0!==u&&u,h=t.rightControls,b=t.title,O=Object(c.a)(t,r);return Object(l.jsxs)("div",Object(i.a)(Object(i.a)({className:"layout"},O),{},{children:[Object(l.jsxs)("header",{className:"layout-header",children:[Object(l.jsxs)("div",Object(i.a)(Object(i.a)({className:"layout-left-controls"},O),{},{children:[e&&Object(l.jsx)(o.a,{from:s,to:e,children:Object(l.jsx)(a.a,{as:"span",className:"layout-back-btn",children:Object(l.jsx)("svg",{width:"8",height:"14",viewBox:"0 0 8 14",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"M0.288025 7.00001L6.29802 13.01L7.71202 11.596L3.11202 6.99601L7.71202 2.39601L6.29802 0.990005L0.288025 7.00001Z"})})})}),b&&Object(l.jsx)("h3",{className:"layout-title",children:b}),d]})),Object(l.jsx)("div",{className:"layout-right-controls",children:h})]}),Object(l.jsx)("main",{className:["layout-content",j?"no-padding":null].join(" "),children:n})]}))};e.a=s},74:function(t,e,n){"use strict";var i=n(4),c=n(64),o=n(96),a=(n(72),n(5)),l=["children","id","isOver","level"],r=function(t){var e=t.children,n=(t.id,t.isOver),r=void 0===n||n,s=t.level,d=Object(c.a)(t,l);return Object(a.jsx)(o.a.div,Object(i.a)(Object(i.a)({animate:"show",className:"view",exit:"hidden",initial:"hidden",style:{zIndex:s},variants:!0===r?{hidden:{y:"100%",transition:{ease:"easeIn",duration:.3}},show:{y:0,transition:{ease:"easeOut",duration:.3}}}:{hidden:{scale:.9,transition:{ease:"easeOut",duration:.3}},show:{scale:1,transition:{ease:"easeOut",duration:.3}}}},d),{},{children:e}))};e.a=r},75:function(t,e,n){},78:function(t,e,n){"use strict";var i=n(6),c=n(1),o=n(32),a=(n(75),n(5)),l=function(t){var e=t.alt,n=void 0===e?"":e,l=t.height,r=void 0===l?"100%":l,s=t.url,d=t.width,u=void 0===d?"100%":d,j=Object(c.useState)(!0),h=Object(i.a)(j,2),b=h[0],O=h[1],v=Object(c.useState)(0),f=Object(i.a)(v,2),m=f[0],x=f[1],p=Object(c.useRef)(),g=Object(c.useRef)();return Object(c.useEffect)((function(){g.current.src=s}),[s]),Object(a.jsxs)("div",{className:"picture",ref:p,style:{height:r,width:u},children:[b&&Object(a.jsx)("div",{className:"loading_screen",children:Object(a.jsx)(o.a,{})}),Object(a.jsx)("div",{className:"picture_container",style:{height:r,opacity:m,width:u},children:Object(a.jsx)("img",{className:"image",alt:n,onLoad:function(){x(1),O(!1)},ref:g,style:{height:r,width:u}})})]})};e.a=l},83:function(t,e,n){},84:function(t,e,n){}}]);
//# sourceMappingURL=4.83c8d89e.chunk.js.map